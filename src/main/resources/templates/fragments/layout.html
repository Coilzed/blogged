<!doctype html>
<html th:fragment="layout (template)">

<head>
    <title>Blogged</title>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <link rel="stylesheet" type="text/css" th:href="@{/css/main.css}">
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css"
          integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
</head>

<body>
<nav class="navbar navbar-expand-lg navbar navbar-dark bg-primary">
    <a class="navbar-brand" th:href="@{/}">
        Blogged
    </a>
    <div class="collapse navbar-collapse" id="navbarNavDropdown">
        <ul class="navbar-nav">
            <li class="nav-item">
                <a th:if="${#authorization.expression('!isAuthenticated()')}" class="nav-item nav-link"
                   th:href="@{/register}" th:text=#{nav.sign.up}></a>
            </li>
            <li class="nav-item">
                <a th:if="${#authorization.expression('!isAuthenticated()')}" class="nav-item nav-link"
                   th:href="@{/login}" th:text=#{nav.sign.in}></a>
            </li>
            <li class="nav-item">
                <a sec:authorize="isAuthenticated()" class="nav-item nav-link"
                   th:text="#{user.info}" th:href="@{/user/personal/info}"></a>
            </li>
            <li class="nav-item">
                <a sec:authorize="isAuthenticated()" class="nav-item nav-link"
                   th:text="#{user.content}" th:href="@{/user/content/create}"></a>
            </li>
            <li class="nav-item">
                <a sec:authorize="hasAuthority('ADMIN')" class="nav-item nav-link"
                   th:href="@{/admin/manager/content}" th:text=#{admin.content}></a>
            </li>
            <li class="nav-item">
                <a sec:authorize="hasAuthority('ADMIN')" class="nav-item nav-link"
                   th:href="@{/admin/manager/account}" th:text=#{admin.accounts}></a>
            </li>
            <li class="nav-item">
                <a sec:authorize="isAuthenticated()" class="nav-item nav-link" th:href="@{/logout}"
                   th:text=#{nav.logout}></a>
            </li>
        </ul>
    </div>
</nav>
<th:block th:include="${template}"/>
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script th:src="@{/webjars/jquery/jquery.min.js}"></script>
<script th:src="@{/webjars/jquery-ui/jquery-ui.min.js}"></script>
<script th:src="@{/webjars/bootstrap/js/bootstrap.min.js}"></script>
<script type="text/javascript">
    $(document).ready(function () {
        $("#locales").change(function () {
            var selectedOption = $('#locales').val();
            if (selectedOption != '') {
                window.location.replace('?lang=' + selectedOption);
            }
        });
    });
</script>
</body>

</html>